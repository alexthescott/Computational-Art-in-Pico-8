pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
-- bad snakes
-- alexthescott
-- 9/2/21

p={142,9,130,14,2,143,10,135,7}
pal(p,1)

function new_snake(c)
	s={}
	-- assign global_color
	s.c=c
	-- assign start point
	s.d=rnd(4)\1
	-- assign steps 'left'
	s.l=(rnd(32)\1)*2
	
	-- top
	if s.d==0 then
		s.x=2*(rnd(64)\1)
		s.y=0
		s.dx=0
		s.dy=1
	-- right
	elseif s.d==1 then
		s.x=128
		s.y=2*(rnd(64)\1)
		s.dx=-1
		s.dy=0
	-- bottom
	elseif s.d==2 then
		s.x=2*(rnd(64)\1)
		s.y=128
		s.dx=0
		s.dy=-1
	else
	-- left
		s.x=0
		s.y=2*(rnd(64)\1)
		s.dx=1
		s.dy=0
	end
	
	s.draw=function(self)
		pset(self.x,self.y,self.c)
	end
	
	s.update=function(self)
		if self.l==0 then
			if abs(self.dx)==1 then
				self.dx=0
				self.dy=1+(-2*(rnd(2)\1))
			else
				self.dx=1+(-2*(rnd(2)\1))
				self.dy=0
			end
			self.l=(rnd(32)\1)*2
		else
			self.l-=1
			self.x+=self.dx
			self.y+=self.dy
		end
	end
	
	s.destroy=function(self)
		if self.x<0 or self.x>129 or self.y<0 or self.y>129 then
			del(snakes,self)
			seen_snakes+=1
		end
	end
	add(snakes,s)
end

function new_clear()
	local clr={}
	clr.i=0
	
	clr.update=function(self)
		self.i+=1
	end
	
	clr.draw=function(self)
		line(self.i,0,self.i,128,0)
		line(128-self.i,0,128-self.i,128,0)
	end
	
	clr.destroy=function(self)
		if self.i>=65 then
			del(screen_wipe,self)
		end
	end
	
	add(screen_wipe,clr)
end

function burn()
	for p=0,256 do
		x=rnd(128)\1
		y=rnd(128)\1
		pc=pget(x,y)
		if pc!=0 and pc%3!=0 then
			pset(x,y,pc+1)
		elseif rnd(10)\1==0 then
			pset(x,y,0)
		end
	end
end

screen_wipe={}
global_color=1

snakes={}
seen_snakes=0

-- setup title snakes
for i=1,7 do
	new_snake(global_color)
	snakes[i].y=66
	snakes[i].x=32+i*6
end

cls()
::♥::
if t()<2 then
	print("bad snakes alt",36,64,1)
else
	burn()
	
	if t()%0.25==0 then
		for i=1,2 do
			new_snake(global_color)
		end
	end
	
	if seen_snakes>=96 then
			if global_color==7 then
				new_clear()
			end
			global_color+=3
			global_color%=9
			seen_snakes=0
	end
	
	for clr in all(screen_wipe) do
			clr:draw()
			clr:update()
			clr:destroy()
	end
	
	for s in all(snakes) do
		s:draw()
		s:update()
		s:destroy()
	end
	
	flip()
end
goto ♥
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
9i7ii00000000000000090000000n7i777n07077777777nnnnn7777077nnn7779na7777a700000u00000i0u00000000000u0000000a00000u000000000000000
i0n090000000000000009000000070u00000000000000000000000000000000090000000700000i00000i0i0000000000090000000700000u000000000000000
90n0i0000000000000009000000070900000000000000000000000000000000090000000n00000u00000i0i0000000000090000000a00000u000000000000000
i0n0u000000000000000i000000070u000000000000000000000000000000000u0000000700000u00000i0u00000000000u0000000a00000u000000000000000
u070i00000000000000090000000709000000000000000000000000000000000u0000000700000u00000i0i00000000000u00000777777a0u99u9uuiuuiuiu9u
u0n0i00000000000000090000000n0i000000000000000000000000000000000u0000000700000u00000i0u0000000000090000000a000000000000000000000
uuii9000000000000000u0000000709000000000000000000000000000000000i0000000700000i00000iui90iuiiiiii9u9i9uiiiniiiii9i0ui90ii0iiiuii
i000u000000000000000u0000000700000000000000000000000000000000000u0000000n00000u0000000i00000000000u0000000a000000000000000000000
i7anin7n77an70000000u0000000n090000000000000000000n7777077a77777u7777n7an7nn7797n7n7na77nn77n7707au0000000a000000000000000000000
u0n09000000070000000u000000070900000000000000000007000000000000090000000n00000i0000000u00000000000u0000000a000000000000000000000
i070i0000000700000000000000000u0000000000000000000a0000000000000i0000000n00000iuuuuu9uu9u99uuuu000u0000000a000000000000000000000
90a0i000000070000000i0000000009000000000000000000070000000000000i0000000a000000000000090000000u000i00000007000000000000000000000
u0n0777aan7070000000u000000000u000000000000000000070000000000000u0000000n000000000000000000000u000u0000000a0000000007777n70nn777
u07070000070n00000009000000000i0000000000000000000n0000000000000u00000007000000000000000000000u000u00000007000000000000000000000
90n070000070n0000000u0000000aaaaaaa7a7n7aanannnan7ananann7naannain7aanaaa7777na7n777aa7aaanna7un77unna7n77n000000000000000000000
0070n0000070n0000000u0000000n0u000000000000000000070000000000000u000000000n00000000000i0000000u000u00000000000000000000000000000
00707000007070000000u0000000a0i000000000000000000070000000000000u000000000700000000000i0000000u000900000000000000000000000000000
0070900000a0n0000000u0000000a090000000000000000000000000000000009000000000a00000000000i0000000u000u00000000000000000000000000000
0070900000n070000000u0000000aaaaaaa000000000000000000000000000009000000000700000000000i0000000u000u00000000000000000000000000000
0070i00000a00000000090000000009000a00000000000000000000000000000u00000000070000000000090000000u000u00000000000000000000000000000
0077i777n7n7070nn77n9770000000i9iiaii9u90i9ii9i0iiuiiuiui9ii0000u000000000n00000000000u0000000u000u00000000000000000000000000000
0000i000007070000000u0700000000000a000000000000000000000000000009000000000n00000000000i0000000u000900000000000000000000000000000
0000i00000a070000000i0700000000000a000000000000000000000000000009000000000a00000000000i0000000u000u00000000000000000000000000000
000090000070a0000000u0700000000000a000000000000000000000000000009000000000a00000000000i0000000u000u00000000000000000000000000000
0000900000a070000000u0a00000000000a000000000000000000000000000009000000000n0000000000090000000u000uuuu00000000000000000000000000
0000i00000a000000000u0700000000000a00000000000000000000000000000u000000000a00000000000i00000000000a00000000000000000000000000000
0000u00000n070000000u0700000000000u9uuuuuu99uuuuuuuuuuuuuu999u99uuuuui9uu9uuu000000000i00000000000a00000000000000000000000000000
0000u000007070000000u0700000000000a00000000000000000000000000000900000000070u000000000u00000000000700000u00000000000000000000000
0000u000007070000000u0700000000000a000000000000000000000000000009000000000n0u000000000i00000000000n00000u00000000000000000000000
0000i00000n07000000090700000000000a000000000000000000000000000009000000000709000000000u00000000000000000u00000000000000000000000
0000i00000n0a000000090a00000000000a000000000000000000000000000009000000000n0u000000000i00000000000n00000u00000000000000000000000
0000900000n070000000u0n00000000000a00000000000000000000000000000u000000000n0i000000000u00000000000700000u00000000000000000000000
uu9uuuuuuuuuu9uuuuuuuuu99uuu99u9uuaiuu9u09iiuui9i9iuiiiu999iiiu9iu99ui9u9i99u9ui9uui9u99uui9ui999ii999u9uii0iui9iu9uii9ii9iiiiii
0000i00000n000000000u07000000000000000000000000000000000000000009000000000a00000000000000000000000n00000u00000000000000000000000
0000u000007000000000u0n0000000000000iiui9i999iu9i99i99u99uuuu000u000000000700000000000000000000000a00000u00000000000000000000000
0000u00000n000000000u0a00000000000009000000000000000000000009000i000000000a00000000000000000000000n00000u00000000000000000000000
0000900000a000000000u000000000000000i00000000000000000000000i0009000000000700000000000000000000000n00000u00000000000000000000000
0000900000n000000000u0000000000000009000000000000000000000009000u000000000a00000000000000000000000n00000900000000000000000000000
0000u00000a000000000u000000000000000i000000000000000000000009000i000000000700000000000000000000000n00000u00000000000000000000000
00009000007000000000u000000000000000900000000000000000000000i0009000000000700000000000000000000000a00000u00000000000000000000000
0000u0000070000000uuu000000000000000i00000000000000000000000000090000000n77nannaanaaa7ann7n7aaan7a700000u00000000000000000000000
0000i00000700000000000000000000000000000000000000000000000009000u0000000n0a00000000000000000000000000000900000000000000000000000
9i9i900000n00000000000anaannaaaann77a000000000000000000000009000u0000000a0700000000000000000000000000000u00000000000000000000000
0000700000n00000000000n0000070000000a00000000000000000000000u000i0000000n0a00000000000000000000000000000900000000000000000000000
0000700000a00000000000a0000070000000n07naaaaaanaaaaaaaaaaaaaaaaa90000000n0n00000000000000000000000000000u00000000000000000000000
0000700000n0000000000070000070000000a0a000000000000000000000u000u0000000a0n00000000000000000000000000000900000000000000000000000
0000700000700000000000n00000n0000000aaaaaaaaaanaaannaaaaanaanan7uaannanaa0n00000000000000000000000000000u00000000000000000000000
0000n00000700000000000a0000070000000n0a000000000000000000000u000u000000000700000000000000000000000000000u00000000000000000000000
0000700000n00000000000700000700000aaanaaa0000000000000000000u0009000000000a00000000000000000000000000000u00000000000000000000000
0000n00000700000000000a0000000000000n0n0n000000000000000000090009000000000700000000000000000000000000000u00000000000000000000000
0000700000700000000000a000007000000070a0a0000000000000000000u0009u9uuu9uuuuiu9uuuuuuuuun7n7an7ann77nannaua77n0000000000000000000
0000000000a00000000000n0000070000000a0a0a0000000000000000000u0000000000000707000000000000000000000000000u000a0000000000000000000
00007000007777nan7a77aaaaaaaaanaaa7aaaaaaiiuuu99uui9uu9u9uuuu9uuuuu9u00000a07000000000000000000000000000u000n0000000000000000000
000070000000000000000000000070000090n00000000000000000000000u0000000u00000n0n000000000000000000000000000u00070000000000000000000
2vve2v0v222vvv0eveevvv2vvv0vvv2vve9va00000000000000000000000u0000000u00000707000000000000000000000000000u00070000000000000000000
0000000000000000000000000000000000u0a0000000000000000000000090000000u00000707000000000000000000000000000u00070000000000000000000
0000000000000000000000000000700000u0700000000000000000000000u00000009000007070000000000000000000000000009000n0000000000000000000
0000000000000000000000000000700000u0a0000000000000000000000090000000u00000707000000000000000000000000000u00070000000000000000000
n7a77000000000uuuuuuuu9uuu9u99uu9iu9u9u9uuuu99uuui9uuuiu9i9iui9uu99uu000007070000000000000000000000000009000n0000000000000000000
0000700000000090000000000000700000u0a000000000000000000000009000000090000070a000000000000000000000000000i00070000000000000000000
0000a000000000u00077n77n7777000077i7a7a77a7n77n77777n0770ann9na77n0nunnann77a70a77n0000000000000000000009uuuu9u9999uu99uu999i999
00000000000000u0007000000000000070i0700000000000000000000000u0000000u0000070n00000n0000000000000000000000000a0000000000000000000
00007000000000u00070000000000000n0i0a00000000000000000000000u0000000u00000n0a0000070000000000000000000000000a0000000000000000000
00007000000000i00070000000000000n0u0n00000000000000000000000u0000000u00000a070000070000000000000000000000000n0000000000000000000
ana7auuuuuuuuu97n77777777n7n7777a790a0u00000000000000000000090000000u00000a0n00000a0000000000000000000000000n0000000000000000000
0000n000000000u0007000000000000070i0a0u000000000000000000000i0000000u000007070000070000000000000000000000000n0000000000000000000
0000a000000000u00070000000000000n0u000u000000000000000000000i0000000u000007000000000000000000000000000000000a0000000000000000000
0000n00000000090007000000000000070i0n0u000000000000000000000u0000000u00000a0700000n0000000000000000000000000n0000000000000000000
0000n000000000u00070000000000000n0u070u000000000000000000000unnn77779ana7n70700000n0000000000000000000000000a0000000000000000000
0000n000000000900070000000000000n090n0u00000000000000000000090000000u000000070000070000000000000000000000000a0000000000000000000
iiuu7i9u900000u00070000000000000n0u0n0u000000000000000000000u0000000u000000070000070000000000000000000000000a0000000000000000000
00007000u00000u0007000000000000000i070u000000000000000000000i0000000u0000000700000n0000000000000000000000000n0000000000000000000
00007000900000u000700000000000007090a0u000000000000000000000u000000090000000700000a000000000000000000000000070000000000000000007
00007000900000u00070000000000000n0i0n0u000000000000000000000i0000000i000000070000070000000000000000000000000a0000000000000000000
00007000u00000u000n0000000000000n09777u77nan7nn770000000000090000000i000000070000070000000009i9i9uu9iiii99u9niii0iiu9ii9iiii99ii
00007000i00000u000a00000000000007090n0u000000000000000000000u000000090000000n00000n000000000i000000000000000a0000000000000000000
uuuiuuu99i9i9iu9uiuuu9ui9u99u9u9u9u9u9u99u9u99i0000000000000u0000000i0000000700000a0000000009000000000000000a0000000000000000000
0000a070900000u0007000000000000070i0a09000000090000000000000u0000000i0000000n00000a000000000900000000000000070000000000000000000
iu9uuiuu9i9iiiuui99i99999i9iuiii99u070uiuuuu99u000000000000090000000i0000000n00000n000000000u00000000000000070000000000000000000
0000n070900000900070000000000000n090700000000000000000000000u0000000i0000000700000n000000000i000000000000000a0000000000000000000
uuuuu070i00000u0007000000000000070i0nnn7a7nan777nn77n770n7an977n77nai777n770700000a0000000009000000000000000a0000000000000000000
0000u070i00000u000000000000000007090i00000000000000000000000u0000000i0000070n00000n000000000u000000000000000n0000000000000000000
00009070i000009000a00000000000007090i00000000000000000000000i99uu9uuuiuuuuuuuu90007000000000u000000000000000a0000000000000000000
0000u070i000009000n0000000000000n0i0i00000000000000000000000000000009000000070u000n000000000i000000000000000a0000000000000000000
0000u070u00000u000n00000000000007090i0000000000000000000000000000000i000000070u000a000000000i000000000000000n0000000000000000000
0000u070900000u0007000000000000070u090000000000000000000000000000000i000000000u0007000000000u000000000000000a0000000000000000000
0000u070i00000u000aanaaananaaannnanaaaannaannannaanaa000000000000000i000000000u000n000000000i000000000000000a0000000000000000000
0000907090000090007000000000000000u0i000000000000000a0000000000000009000000000u0007000000000u000000000000000a0000000000000000000
iii99ui99iiii9i9iia99iiiiii9iiiiiiiii000000000000000a0000000000000009000000000u00070ii0i0iii9u9iu9i9ii9uii90n0000000000000000000
0000u0n0i000009000a000000000000000i00000000000000000a000000000000000u000000000u000n000000000u0000000000000i0a0000000000000000000
0000u070900000u000a000000000000000i00000000000000000a0000000000000ii9iu9i09i9iuuuia7a77anaan7ana7aaaa7nnannannnan990000000000000
00009070i00000u000a000000000000000i00000000000000000n000000000000090i00000000000000000000000u000000000000090a000a090000000000000
u09i99i9i9999uu000n000000000000000i00000000000000000n000000000000090900000000000000000000000i000000000000090a000a090000000000000
u0i0i0709000000000a000000000000000i00000000000000000a0000000000000i0u0000000000000000000000090000000000000i0a0007090000000000000
u0909070i00000000070000000000000779ii9i99iiiiiuiii9ua9i9ii0i9ii9i0i0900000000000000000000000u0000000000000i0a000a0i0000000000000
u0u0u0n0u000000000n000000000000070900000000000000000a00000000000i0u0u0000000000000000000000090000000000000i07000a090000000000000
u0i0u0009000000000a0007777777n00n7900000000000000000a000000000009090i9ii0i9iiiiii9ii9ii9uiiiu9ui99909iiiii99aii9n99iuiiiiu0ii9ii
u090u0009000000000n070000000000070i00000000000000000a00000000000i0i090000000000000000000000090000000000000907000a0u0000000000000
u0909000u000000000nnn7n0a000000070i00000000000000000a00000000000i09090000000000000000000000090000000000000i0a00070u0000000000000
u0u090009000000000n070007000000070i00000000000000000a0000000000090u090000000000000000000000090000000000000u07000a090000000000000
u0909000i000000070n00000a000000070i00000000000000000a00000000000i0u0i00000000000000000000000i0000000000000i07000a0u0000000000000
u090u000u000000070a0n000a000000070i00000000000000000a0000000000090i0i00000000000000000000000i000000000000090a000a0i0000000000000
90909000i0000000a0a070000000000070i00000000000000000000000000000i09090aanaaaaaaa7aa0aaaaaannaaaaanaaaana7anna000a0i0000000000000
u090u000u0000000n070700070000000n0i0000000000000000000000000000090u0i0000000000000000000000090000000000000900000a0u0000000000000
97u790779n777n7n70n0n0007000000070i0000000000000000000000000000090009000000000000000000000009u999uu999uu9u9uuuu9a7na7nannaaaaaan
u0i0u00090000000007070000000000070i0000000000000000000000000000090i0i0000000000000000000000000000000000000i000000090000000000000
i0i090009000000000a0n0007000000070i00000000000000000000000000000i0i090000000000000000000uiiiiiiiuii9iiii9ii0000000u0000000000000
u0u0u000i000000000n000007000000070i00000000000000000000000000000i0u00000000000000000000090000000000000000000000000i0000000000000
i0i0u0009000000000n07000n000000000i00000000000000000000000000000i0900000000000000000000090000000000000000000000000iuuu9uuuuu9uuu
90i0u000u000000000700000n0000000n0i0000000000000000000000000000090i00000000000000000000090000000000000000000000000u0000000000000
90i0unaa9nnn7777077770777n7707n777i7n77a77777a077nn0n7nn70000000i09000000000000000000000i0000000000000000000000000u0000000000000
u0u0i0009000000000a07000a000000000i00000000000000000000070000000i00000000000000000000000i0000000000000000000000000u0000000000000
u0i0uuuu9000000000n0n000n000000000i00000000000000000000070000000i0i000000000000000000000i0000000000000000000000000u0000000000000
909000000000000000a07000n00000000090000000000000000000007000000000i00000000000000000000090000000000000000000000000u0000000000000
u0i000000000000000n0n000a000000000i000000000000000000000700000000090000000000000000000009000000000000000000000000090000000000000
u0u000000000000000n0n000a000000000i00000000000000000000070000000u0i000000000000000000000u0000000000000000000000000u0000000000000
u0i000000000000000naaanna000000000i00000000000000000000070000000u0900000000000000000000000000000000000000000000000u0000000000000
90u0000000000000000070000000000000900000000000000000000070000000u0i000000000000000000000i0000000007000000000000000u0000000000000
u0u00000000000000000a0000000000000u000000000000000000000n0000000u09000000000000000000000u0000000007000000000000000u0000000000000
u0900000000000000000n0000000000000i00000000000000000000070000000u090000000000000000000009000000000n000000000000000u0000000000000
u0u00000000000000000n0000000000000i00000000000000000000070000000u0i000000000000000000000i0000000000000000000000000u0000000000000
u0u0000000000000000070000000000000i00000000000000000000070000000u0u00000000000000000000090000000007000000000000000u0000000000000
u090000000000000000070000000000000i00000000000000000000070000000u0900000000000000000000uuuuuuuuuuuuuuiuuuuuuuu9u9u90000000000000
9090000000000000000070000000000000i000000000000000000000a0000000u0i000000000000000000000i000000000000000000000000000000000000000
9090000000000000000070000000000000i00000000000000000000070000000u0i0000000000000000000009000000000700000000000000000000000000000
u0900000000000000000n00000000000009000000000000000000000n0000000u0u0000000000000000000009000000000700000000000000000000000000000
90900000000000000000000000000000000000000000000000000000n0000000u0i000000000000000000000i000000000700000000000000000000000000000
u0900000000000000000n0000000000000i00000000000000000000070000000u090000000000000000000009000000000700000000000000000000000000000

